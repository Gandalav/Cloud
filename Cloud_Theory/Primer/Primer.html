<!DOCTYPE html>
<!-- saved from url=(0035)https://theproject.zone/writeup/0/1 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    

    <link type="image/x-icon" rel="shortcut icon" href="https://theproject.zone/static/favicon.ico">
    <!--<link type="text/css" rel="stylesheet" href="/static/css/table_sort.css">-->
    <link type="text/css" rel="stylesheet" href="./Primer_files/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="./Primer_files/jquery.dataTables.min.css">
    <link type="text/css" rel="stylesheet" href="./Primer_files/header.css">
    <link type="text/css" rel="stylesheet" href="./Primer_files/defaultTheme.css">
    <link type="text/css" rel="stylesheet" href="./Primer_files/datepicker.css">
    <link type="text/css" rel="stylesheet" href="./Primer_files/bootstrap-editable.css">
    <title>15-319/619 Cloud Computing</title>
    
    
    
    
    
    <link type="text/css" rel="stylesheet" href="./Primer_files/inside.base.css">

    <link type="text/css" rel="stylesheet" href="./Primer_files/docs.min.css">


    <script type="text/javascript" src="./Primer_files/jquery.min.js"></script>
    <script type="text/javascript" src="./Primer_files/jquery.tablesorter.js"></script>
    <script type="text/javascript" src="./Primer_files/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="./Primer_files/jquery.fixedheadertable.js"></script>
    <script type="text/javascript" src="./Primer_files/fnSetFilteringDelay.js"></script>
    <script type="text/javascript" src="./Primer_files/datatableview.min.js"></script>
    <script type="text/javascript" src="./Primer_files/bootstrap.min.js"></script>
    <script type="text/javascript" src="./Primer_files/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="./Primer_files/bootstrap-editable.min.js"></script>
</head>

<body role="document" style="margin-bottom: 40px">

    <div id="base-container" class="container-fluid" style="padding-top: 49.888888835907px;">
    
    
    
    
    
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
   
        <div class="container-fluid">

            <div class="navbar-header" style="padding-bottom:40px">
               <a href="https://theproject.zone/home"><img src="./Primer_files/TPZlogo_small_inverted.png"></a>
            </div>

            <div class="navbar-header pull-right">
                <a class="navbar-brand" href="https://theproject.zone/writeup/0/1#" onclick="return false;" style="margin-left: 0px;"><span class="label label-default" id="username-label">pgandala</span></a>
            </div>

            <div class="coll pull-right">
                <ul id="navbar" class="nav navbar-nav" style="font-weight:bold">
                    <li id="home"><a href="https://theproject.zone/home">Home</a></li>

                    
                        
                        <li id="project0" class="dropdown active">
                            <a href="https://theproject.zone/writeup/0/1#" data-toggle="dropdown" class="dropdown-toggle">Primer
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="./Primer_files/Primer.html">Project Primer</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project1" class="dropdown">
                            <a href="https://theproject.zone/writeup/0/1#" data-toggle="dropdown" class="dropdown-toggle">Project 1
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/1/1">1.1 Sequential Analysis</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/1/2">1.2 Using Amazon's Elastic MapReduce</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project2" class="dropdown">
                            <a href="https://theproject.zone/writeup/0/1#" data-toggle="dropdown" class="dropdown-toggle">Project 2
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/2/1">2.1 Introduction to AWS APIs</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/2/2">2.2 Load Balancing and AutoScaling</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/2/3">2.3 Advanced Scaling Concepts</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project3" class="dropdown">
                            <a href="https://theproject.zone/writeup/0/1#" data-toggle="dropdown" class="dropdown-toggle">Project 3
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/1">3.1 Files v/s Databases</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/2">3.2 Partitioning and Replication</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/3">3.3 Database-as-a-Service</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/4">3.4 Cloud Data Warehousing</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/5">3.5 Consistency in Distributed Key-Value Stores</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project4" class="dropdown">
                            <a href="https://theproject.zone/writeup/0/1#" data-toggle="dropdown" class="dropdown-toggle">Project 4
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/4/1">4.1 MapReduce Programming using YARN</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/4/2">4.2 Iterative Programming using Apache Spark</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/4/3">4.3 Graph Programming using GraphLab</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project5" class="dropdown">
                            <a href="https://theproject.zone/writeup/0/1#" data-toggle="dropdown" class="dropdown-toggle">15619 Project
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/1">Phase 1</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/2">Phase 1 Report</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/3">Phase 2</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/4">Phase 2 Live Test (MySQL)</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/5">Phase 2 Live Test (HBase)</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/6">Phase 2 Report</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/7">Phase 3</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/9">Phase 3 Live Test</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/10">Phase 3 Report</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                    
                
                    
                    <li id="grade"><a class="active" href="https://theproject.zone/grade/">Grade Book</a></li>
                    <li id="profile"><a href="https://theproject.zone/profile">Profile</a></li>
                    <li id="logout"><a href="https://theproject.zone/log_out">Log Out</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <div class="container">

        <div class="row">

        <div class="col-md-6">
            <h2>Project Primer</h2>
        </div>
        
        
        
        </div>

        <table class="table table-striped table-bordered table-condensed prettyBorder">
        <thead>
            <tr>
                <th>Phase</th>
                <th>Open</th>
                <th>Deadline</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>Project Primer</td>
                <td>Jan. 12, 2015 00:01</td>
                <td>Jan. 18, 2015 23:59</td>
            </tr>
        </tbody>
        </table>
        
        

        <hr>
        

<style>
  img{
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 10px;
  }
  small.caption {
  display: block;
  text-align: center;
  margin-bottom: 4em;
  }
  iframe {
  display: block;
  margin-left: auto;
  margin-right: auto;
  margin-bottom: 30px;
  }
  .bs-callout-task {
  background-color: #ffffff;
  border-left-color: green;
  }
  .bs-callout-task h4,
  .bs-callout-task a.alert-link {
  color: green;
  }
  .bs-callout-learning {
  background-color: #ffffff;
  border-left-color: purple;
  }
  .bs-callout-learning h4,
  .bs-callout-learning a.alert-link {
  color: purple;
  .bs-docs-sidebar.affix {
  position: fixed;
  top: 25x;
  }
  }
</style>

<div class="row">
<div class="col-xs-3 col-sm-3 col-md-3 col-lg-3 hidden-xs hidden-sm">
  <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix-top" style="top:120px">
    <ul class="nav bs-docs-sidenav">
      <li><a href="https://theproject.zone/writeup/0/1#intro">Overview</a></li>
      <li>
        <a href="https://theproject.zone/writeup/0/1#linux">Essential Skills in Linux</a>
        <ul class="nav">
          <li><a href="https://theproject.zone/writeup/0/1#scripting">Scripting</a></li>
          <li><a href="https://theproject.zone/writeup/0/1#install">Installing Software</a></li>
          <li><a href="https://theproject.zone/writeup/0/1#ssh">Secure Shell (SSH)</a></li>
          <li><a href="https://theproject.zone/writeup/0/1#disk">Disk Operations in Linux</a></li>
        </ul>
      </li>
      <li>
        <a href="https://theproject.zone/writeup/0/1#aws">Amazon Web Services</a>
        <ul class="nav">
          <li><a href="https://theproject.zone/writeup/0/1#ec2">Elastic Compute Cloud (EC2)</a></li>
          <li><a href="https://theproject.zone/writeup/0/1#s3">Simple Storage Service (S3)</a></li>
        </ul>
      </li>
      <li><a href="https://theproject.zone/writeup/0/1#project">Project Logistics</a></li>
      <ul class="nav">
        <li><a href="https://theproject.zone/writeup/0/1#cloud">Using Cloud Resources</a></li>
        <li><a href="https://theproject.zone/writeup/0/1#assess">Project Assessments</a></li>
        <li><a href="https://theproject.zone/writeup/0/1#cost">Managing Costs</a></li>
        <li><a href="https://theproject.zone/writeup/0/1#tagging">Tagging AWS Resources</a></li>
        <li><a href="https://theproject.zone/writeup/0/1#s3handin">S3 Submissions</a></li>
      </ul>
    </ul>
    <a class="back-to-top" href="https://theproject.zone/writeup/0/1#top">Back to top</a>
  </nav>
</div>
<div class="col-xs-9 col-sm-9 col-md-9 col-lg-9">
<h1 id="intro">Overview</h1>
<p>In this course, you will be working with various cloud resources that will be provisioned on-demand, and accessed remotely through SSH or putty. While Amazon Web Services supports both linux and windows instances, we will primarily be using linux-based instances, most of which run some version of Ubuntu or Red Hat (Cloud guest). Therefore, before getting into the projects, we have assembled a simple primer to get you started on some of the various fundamental concepts and skills which will help you tremendously in tackling the various projects in this course.</p>
<div class="bs-callout bs-callout-danger">
  <h4>Warning</h4>
  <p>Failure to comply with these instructions may result 
    in points being deducted from your project grade.
  </p>
</div>
<h1 id="linux">Essential Skills in Linux</h1>
<h2 id="scripting">Scripting</h2>
<p>In this course, we will primarily be working within Amazon EC2 instances (also known as virtual machines). Typically we would interact with these instances through the command line interface (usually bash on linux instances). In order to perform and/or automate more complex tasks using the command line, a good knowledge of scripting languages and techniques (bash/perl/python etc.) is required. If you would like to learn scripting or refresh your knowledge, we would highly recommend the following tutorials:</p>
<ol>
  <li><a href="http://tldp.org/LDP/abs/html/">The Advanced Bash Scripting Guide</a></li>
  <li>If you prefer Perl, there are many guides at the Perl <a href="http://www.perl.org/">website</a></li>
  <li>If you prefer Python, there are also many resources, you can get started with the resources at the Python <a href="http://www.python.org/">website</a></li>
</ol>
<p>You will need to focus on the following topics:</p>
<ol>
  <li>Scripting syntax, local variables and environment variables.</li>
  <li>Quoting and back-ticks in <code>bash</code>.</li>
  <li>Input and Output redirection using unix pipes.</li>
  <li>Using tools such as <code>grep</code>, <code>awk</code>, <code>sed</code>, <code>cut</code> etc. to perform simple 
    text manipulation inline or within bash scripts. (if you are using perl or 
    python, you should be able to do this within the perl or python script itself)
  </li>
</ol>
<h2 id="install">Installing Software</h2>
<p>
  As you are working on the various projects in this course, we will supply you with a task-specific Amazon Machine Image (AMI) which contains most of the necessary software, tools and data for you to complete the specified task. In any case, you should also know the commands necessary to install software on these instances on your own. We will mainly be working with Ubuntu-based instances in this course, so you should familiarize yourself with the workings of the Advanced Packaging Tool (APT), using the command <code>apt-get</code>. <code>apt-get</code> lets you install software packages on Ubuntu and other Debian-based linux environments. 
</p>
<p><code>apt-get</code> is invoked using the following command:</p>
<pre syntax="bash" number="false">sudo apt-get install &lt;package-name&gt;</pre>
<p>For example, to install GNU <code>emacs</code> on an Ubuntu machine:</p>
<pre syntax="bash" number="false">sudo apt-get install emacs</pre>
<p>To install <code>vim</code>:</p>
<pre syntax="bash" number="false">sudo apt-get install vim</pre>
<div class="bs-callout bs-callout-info">
  <h4>Installing Software on Red-Hat based distros</h4>
  <p>The equivalent command to install software on red-hat based Linux distros (Fedora,CentOS etc.) is:</p>
  <pre syntax="bash" number="false">sudo yum install &lt;package-name&gt;</pre>
</div>
<p>We use the <code>sudo</code> to execute <code>apt-get</code> commands because this requires root access to install packages in the system. 
  In addition here are some useful <code>apt-get</code> commands:
</p>
<p><code>sudo apt-get update</code> will update the package index from their sources. This is typically used to
  refresh the package index  with the latest packages and their versions.
</p>
<p><code>sudo apt-get upgrade</code> will update all the existing packages on the system with their latest versions.</p>
<hr>
<h2 id="ssh">SSH</h2>
<p>Secure Shell (SSH) is a network protocol used for secure data communication, remote login and remote command execution. You should be quite familiar with SSH already, but there are some quirks to using SSH with EC2 instances, which are covered below.</p>
<p>In order to get SSH working with an instance on EC2, you must ensure that the SSH clients and servers are installed correctly, that the instance's security group allows incoming connections on port 22, and your authentication mechanism is working correctly.</p>
<img src="./Primer_files/ssh_diagram.png" alt="SSH Diagram">
<h4><small class="caption">Connecting to AWS EC2 Instances through SSH</small></h4>
<h3>Setting up SSHD (If not installed already)</h3>
<p>All EC2 images come with an ssh daemon (<code>openssh</code>) pre-installed. In case you have a fresh linux install on your own machine, please follow the steps below to install and configure <code>openssh</code>:</p>
<pre>sudo apt-get install openssh-server</pre>
<p>Configuration settings for ssh are on <code>/etc/ssh/sshd.config</code></p>
<p>Depending on your version of Ubuntu, sshd can be managed either using <code>init.d</code>:</p>
<pre syntax="bash" number="false">sudo /etc/init.d/ssh</pre>
<p>or by using service:</p>
<pre syntax="bash" number="false">sudo service sshd [start|stop|restart]</pre>
<h3>Authentication Mechanisms</h3>
<p>SSH supports a number of authentication mechanisms. You might be most familiar with password authentication (where you enter a username/password when connecting to a remote machine). Password authentication security is based on the length and complexity of the password, and is prone to brute-force or dictionary-based attacks. This is especially dangerous on a publicly-accessible EC2 instance.</p>
<p>To plug the vulnerability and to increase security, all EC2 instances are configured to use “key-based” authentication instead. This is based on Public Key cryptography. A key pair consists of two keys: one private and one public. The public and private keys are mathematically linked; they are generated using algorithms such as RSA or DSA. However, from the knowledge of only one of the keys (only private or only public), it is either impossible or very expensive to calculate the other key.</p>
<p>You can also generate your own key pair. In Linux, ssh key pairs are typically stored in the <code>~/.ssh</code> directory. We recommend using this directory as it has the correct permissions (read-write for user and no permissions for anyone else - <code>700</code>). The following commands can be used to generate a key-pair in Linux:</p>
<pre syntax="bash" number="false">ssh -i private_key_file.pem some-instance.ec2.amazonaws.com 'uname –a'
</pre>
<p>This will execute the command <code>uname -a</code> on the remote instance <code>some-instance.ec2.amazonaws.com</code>. This is especially useful to run commands on many remote instances in a script, for example.</p>
<del></del>
<div class="bs-callout bs-callout-info">
  <h4>Troubleshooting SSH Problems</h4>
  <p>If you receive a permission-denied error when trying to connect to an EC2 instance, verify that you are using the private key to connect. In addition, verify that your private key files have unix permissions <code>600</code> and the directory containing the key is <code>700</code>.</p>
</div>
<h2>Remote Screen Management (byobu)</h2>
<p>When working with remote machines over SSH, the bash (or similar linux shells) are used. These shells work in interactive mode, allowing the user to run commands and launch processes. However, due to network connectivity issues, remote SSH shells can be volatile and bash by default will terminate all launched processes if the session is disconnected. This can be especially frustrating when running long jobs or scripts that get terminated due to a network issue. The <code>nohup</code> command is useful to run a program in the background and continue to run the command even if the session is disconnected.</p>
<p>Another useful tool to manage a remote SSH session is <code>byobu</code>. <code>byobu</code> is a multi-terminal manager application for Linux, similar to <code>screen</code> or <code>tmux</code>. We highly recommend using <code>byobu</code> to keep the state of your remote sessions alive, even if you disconnect from the SSH session. You can install <code>byobu</code> on your instance if it's not already present.</p>
<p>Launch <code>byobu</code> by running the command <code>byobu</code>. This will launch a new shell session in your instance. You should see a screen similar to the image below. You can create multiple shell sessions by pressing F2. To toggle between shell sessions, press F3/F4. To disconnect from <code>byobu</code> (and keep the shells alive), press F6. To terminate a shell session, simply exit the shell.</p>
<img src="./Primer_files/byobu_window.png" alt="Byobu">
<h4><small class="caption">Byobu Screenshot</small></h4>
<hr>
<h1 id="disk">Disk Operations in Linux</h1>
<p>In this section, we will cover some of the important commands to perform various types of disk operations in linux. This will come in handy when dealing with the various types of virtual storage options available for Amazon EC2, such as Amazon’s Elastic Block Store (EBS).</p>
<h2>Managing Partitions</h2>
<p>A number of applications can be used to manage disk partitions in linux, 
  including <code>parted</code> and <code>fdisk</code>. <code>fdisk</code> is the traditional partition management 
  software but it has been largely replaced by <code>parted</code> as it has support for 
  GUID Partition Tables (GPT) and drives that are larger than 2 TB. 
  For the purposes of this tutorial, we will be using <code>parted</code>.
</p>
<p>To list all of the partitions on the system:</p>
<pre syntax="bash" number="false">parted -l</pre>
<p>Partitions will be listed in order as devices under <code>/dev</code>. On Amazon EC2 instances, the devices are <code>/dev/xvd**</code>. 
  <code>/dev/xvda1</code> is the OS partition, while <code>/dev/xvdb</code> is the instance store partitions.
  Please note that RAMDISKs will not show in the output of <code>parted</code>.
  <code>parted</code> can also be used to create partitions and set the partition type or 
  file system of each partition (Linux has a variety of file systems available, ext4 is commonly used nowadays):
</p>
<pre syntax="bash" number="false">parted /dev/xvdX mklabel gpt</pre>
<pre syntax="bash" number="false">parted /dev/xvdX mkpart db ext4 0% 10G</pre>
<p>Can be used to label a device as using the GUID Partition Table (GPT) and label a 10 GB partition on the device to use the ext4 file system. 
  This partition is now available to format with the file system specified.
</p>
<p>In addition, <code>parted</code> can be run on its own without any parameters to start it in interactive mode.</p>
<p>Once a partition has been created using parted, you can format it using the mkfs command:</p>
<pre syntax="bash" number="false">mkfs.ext4 /dev/xvdX1</pre>
<h2>Mounting Volumes</h2>
<p>In order to finally use a disk after partitioning and formatting, it must be mounted 
  to some mount-point on the linux virtual file system. Typically mount points in linux 
  are created under the directory <code>/mnt</code> or <code>/mount</code>. Removable media such as 
  USB/CDROM etc. are mounted under <code>/media</code>. You are free to mount these 
  partitions in any directory you like.
</p>
<pre syntax="bash" number="false">mkdir /storage/mountpoint
mount /dev/yourdevice /storage/mountpoint
</pre>
<div class="bs-callout bs-callout-success">
  <h4>Tasks to try:</h4>
  <p>You should sharpen your linux skills by writing simple program and exercises involving
    <code>grep</code> and <code>awk</code> in bash or use your favourite scripting language. Our suggestions are the 
    following:
  </p><ol>
    <li>You can try some of the exercises in the <a href="http://tldp.org/LDP/abs/html/exercises.html">advanced bash scripting guide</a>.</li>
    <li>Try to process a large text file to filter out a certain string using regular expressions.</li>
    <li>Learn to keep a remote SSH session alive using <code>byobu</code>, <code>screen</code> or <code>tmux</code>.</li>
  </ol>
  You can also sharpen your SSH and Linux disk management skills after you
  start working with EC2 instances (covered in the next section of this primer).<p></p>
</div>
<hr>
<h1 id="aws">Amazon Web Services</h1>
<p>Amazon Web Services (AWS) is by far the most popular cloud computing provider and is widely credited with the introduction of innovative concepts in cloud computing. AWS offers various services such as Amazon Simple Storage Service (S3) and Amazon Compute Cloud (EC2). For the projects in this course, you will work on instances provisioned on Amazon EC2 and utilize S3 for persistent storage. In addition, we will be working with various other AWS technologies such as Elastic Block Store (EBS), CloudWatch, and DynamoDB, among others. For more information about AWS, please refer to the <a href="http://aws.amazon.com/">AWS website</a>.</p>
<iframe width="560" height="315" src="./Primer_files/jOhbTAU4OPI.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Introduction to AWS</small></h4>
<h3>AWS Authentication</h3>
<p>Apart from your AWS account username/password, API access to various AWS services can be granted using the <strong>AWS Access Key ID</strong> and <strong>AWS Secret Key</strong> pair. These are unique credentials that can be generated by the user and used within scripts and programs that interact with AWS services.</p>
<p>To generate an Access key ID and Secret Key pair, sign into your AWS account. Once you have signed in, choose Security Credentials from the drop-down menu on the top right corner. Under Access Keys click on Create a new Access Key and note down the Access Key ID and the Secret Access Key. If you ever need to refer to these keys in the future, simply visit the Security Credentials page to access them.</p>
<img src="./Primer_files/access_key_screenshot.png" alt="AMIs">
<h4><small class="caption">Security Credentials in AWS</small></h4>
<h3>AWS Management Console</h3>
<p>The following video will provide a short overview of AWS:</p>
<iframe width="560" height="315" src="./Primer_files/EfnfcIqq_IU.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: AWS Management Console</small></h4>
<h2 id="ec2">Elastic Compute Cloud (EC2)</h2>
<p>Amazon Elastic Compute Cloud (Amazon EC2) is a service in AWS that provides resizable computing capacity in the AWS cloud. Amazon EC2 makes virtual servers (also known as instances) available to you as a service, thereby eliminating your need to invest in hardware up front and enabling you to develop and deploy applications faster. You can use the web service interfaces or API calls to launch as many or as few instances as you need, configure security and networking, and manage storage.</p>
<p>As you get started with Amazon EC2, you should understand some of the key concepts of the environment as they are a bit different from your own. The following video outlines some of the basic concepts and ideas behind EC2:</p>
<iframe width="560" height="315" src="./Primer_files/t0Gg0Y1Gz6Q.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: EC2 Basics</small></h4>
<div class="bs-callout bs-callout-info">
  <h4>EC2 Terminology</h4>
  <p>Some terms and concepts that you should know follow:</p>
  <p><strong>EC2 Instance</strong>: EC2 instances are virtual servers that you 
    can configure and launch on Amazon EC2. It can be thought of as a 
    copy of an Amazon Machine Image (AMI) that is actively running on 
    the Amazon EC2 cloud. Instances run on host computers at 
    Amazon’s data center, but this is typically transparent 
    to the user. Instances have many parameters including:
  </p>
  <p><strong>Amazon Machine Image (AMI)</strong>: Is a template that contains
    a complete software image (operating system, applications,
    libraries and data). From an AMI, you launch instances, which 
    are copies of the AMI running as virtual servers in the cloud. 
    You can launch multiple instances of an AMI.
  </p>
  <img src="./Primer_files/ami_figure.png" alt="AMIs">
  <h4><small class="caption">Amazon Machine Image (AMI)</small></h4>
  <p><strong>Instance Type</strong>: Amazon offers different instance 
    types which have varying amounts of compute and storage available 
    to them. They range from t1.micro to cc2.8xlarge and have 
    different on-demand/reserved and spot prices. 
  </p>
  <p><strong>Regions and Availability Zones</strong>: Instances can be launched 
    across various AWS regions, which are distributed geographically 
    (Virginia/Singapore etc.). Each region has a number of availability 
    zones, which are distinct locations within a data center and are 
    engineered to be isolated from other availability zones in the 
    same region. This allows users to spawn instances in the same 
    region but across availability zones and protect applications from 
    the failure of a single location.
  </p>
  <img src="./Primer_files/region_figure.png" alt="AWS Regions">
  <h4><small class="caption">AWS Regions</small></h4>
  <p><strong>Pricing</strong>: Instances can be launched using three different 
    pricing models: The on-demand pricing is a fixed hourly rate that you 
    pay for the instance. It can range from a few cents to a few dollars 
    per hour depending on the instance type. If you want to use an instance 
    for a fixed amount of time, you can purchase reserved instances 
    (which are typically calculated yearly). In addition there are 
    spot instances which are described below:
  </p>
  <p><strong>Spot Instances</strong>: Spot instances are special instances which 
    allow users to bid for unused computing capacity. You can specify an 
    hourly rate that you are willing to pay to use an instance. In addition, 
    for each instance type under each availability zone, Amazon maintains 
    a spot price which reflects the current demand for the instance. If your 
    bidding price is more than the spot price, an instance will be launched 
    at the current spot price and will continue to run until the spot price 
    exceeds the bid price. Spot instances are volatile but very useful for 
    getting instances for a few hours at prices that are typically lower 
    than the on-demand prices. 
  </p>
</div>
<h3>Amazon EC2 Storage</h3>
<p>Amazon offers multiple options for storage on EC2 instances:</p>
<img src="./Primer_files/storage_figure.png" alt="Storage">
<h4><small class="caption">Storage options for EC2 instances</small></h4>
<p><strong>Amazon EC2 Instance Store</strong>: Instance stores are storage volumes
  that are present on the host computer that the instances are running on.
  Instance stores are temporary, block level storage. Instance store data 
  is cleared when an instance is stopped or terminated. 
</p>
<p><strong>Amazon Elastic Block Store (EBS)</strong>: EBS is a SAN-style storage 
  system that can be used with EC2 instances. EBS presents volumes to the 
  user that can be created independently of an instance and attached to 
  instances as needed. EBS volumes are persistent and flexible. Multiple 
  EBS volumes can be attached to an instance, and an EBS volume can be 
  detached from an instance and attached to another. EBS incurs additional 
  charges (GB/month) over and above EC2 instance charges. EBS volumes can 
  also be backed up by creating a snapshot, which is stored in Amazon S3.
</p>
<p><strong>Amazon Simple Storage Service (S3)</strong>: Amazon S3 is an object 
  storage service which has a web services interface to store and 
  retrieve data. Amazon S3 is used to store snapshots of EBS volumes.
</p>
<h3>Launching and connecting to your instance</h3>
<p>The following video will cover the procedures required to launch an EC2 instance:</p>
<iframe width="560" height="315" src="./Primer_files/z-NoOLk2U-g.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Launching an EC2 Instance</small></h4>
<p>To launch an instance, simply use the AWS Management Console to go 
  to the EC2 Dashboard. From there, click on Instances and Launch Instance.
  You can choose the classic wizard and specify an AMI, Instance Type, 
  region and availability zone, as well as storage options and select 
  a key pair so to connect to your instance.
</p>
<p>Once you have completed configuring your instance, you can see your instance listed in the Dashboard, and you should be able to see its state momentarily being shown as “pending”.</p>
<p>Once the instance has been launched, the state should change to running, with a Public DNS address being assigned to it:</p>
<img src="./Primer_files/launched_instance.png" alt="Launched Instance">
<h4><small class="caption">Instance launched on EC2</small></h4>
<p>You can now connect to this instance over SSH. The following video
  should show you how to connect to an EC2 intsance:
</p>
<iframe width="560" height="315" src="./Primer_files/rFdlVkt7M6w.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Connecting to an EC2 Instance</small></h4>
<p>To recap, the command in linux to connect to an instance is:</p>
<pre>ssh -i key_file.pem username@ec2-50-19-54-72-compute-1.amazonaws.com
</pre>
<div class="bs-callout bs-callout-info">
  <h4>Tip</h4>
  <p>
    If you are planning to use PuTTY in Windows, you will need to 
    <link href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/putty.html">
    convert the PEM key into PPK format using the PuTTYgen program and specify it as the key when connecting to your instance.
  </p>
  <p>
    We would also like to highly recommend 
    <link href="http://www.netsarang.com/products/xsh_overview.html">
    XShell, an advanced Terminal software which is free for Home and School use. You can directly import PEM keys into XShell for use with your SSH sessions.
  </p>
</div>
<h3>Managing Security Groups</h3>
<p>Instances launched on EC2 have are publically accessible using their Public DNS address. 
  In order to better secure instances, EC2 opens only port 22 by default. 
  This is controlled using Security Group definitions in the EC2 Dashboard. 
  You can configure Inbound and Outbound ports and destinations. 
</p>
<img src="./Primer_files/security_group.png" alt="Security Group">
<h4><small class="caption">EC2 Security Groups</small></h4>
<div class="bs-callout bs-callout-success">
  <h4>Tasks to try:</h4>
  <p>You should get comfortable doing the following tasks:
  </p><ol>
  <li>Configure and launch a <code>t2.micro</code> EC2 Instance using either the Ubuntu or Amazon Linux AMIs.</li>
  <li>Connect to the EC2 Instance using SSH from your computer.</li>
  <li>SFTP/SCP a small file from your computer to the EC2 instance and vice-versa.</li>
  <li>Use any text editor on the instance to create a small script or program (such as a bash or python script) and run it on the instance. This program
    could simply echo a string to <code>stdout</code> or filter words from an input text file.
  </li>
  <li>Attach, format and mount an EBS device to this running EC2 instance.</li>
  <li>Terminate the EC2 instance when done.</li>
  <p></p>
</ol></div>
<hr>
<h2 id="s3">Simple Storage Service (S3)</h2>
<p>Amazon S3 provides a simple web services interface that can be used to store and retrieve any amount of data, at any time, from anywhere on the web. Amazon S3 provides interfaces to write, read, and delete files (also known as objects in Amazon’s parlance) of sizes 1 byte to 5 terabytes of data each. The number of objects that you can store is unlimited. Each object is stored in a bucket and retrieved via a unique, developer-assigned key.</p>
<p>When working with S3, one logical difference compared to a traditional file system is that S3 does not have the notion of folders or subfolders. The only logical container is a bucket, but files (objects) can have names with <code>/</code> which can be used to preserve the hierarchy of existing files when uploading and downloading. The following video provides an overview of S3:</p>
<iframe width="560" height="315" src="./Primer_files/1qrjFb0ZTm8.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Amazon S3</small></h4>
<h3>Working with S3</h3>
<p>The following video will introduce and demonstrate S3 functionality both through the AWS Console as well as through s3cmd:</p>
<iframe width="560" height="315" src="./Primer_files/cGHojkTuTx0.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Amazon S3 Usage</small></h4>
<p>
  Using the AWS Management Console, you can visit the S3 Management Console, which gives you an interface to create and manage buckets and files.
</p>
<p>When you create a bucket on S3, you must specify a bucket name 
  that is unique among all the buckets currently in S3 (similar to 
  choosing a username for web portal).  The S3 bucket namespace is 
  shared by all users of the system. There are also some 
  <a href="http://docs.amazonwebservices.com/AmazonS3/latest/dev/BucketRestrictions.html">restrictions</a> 
  on bucket names.
</p>
<p>Any object stored on S3 is also accessible via HTTP. 
  You should be able to access your bucket from a browser 
  using the URL: <code>http://s3.amazonaws.com/&lt;bucket-name&gt;/object</code>
  Please note that you will need the appropriate permissions 
  enabled for your bucket and object to allow for anonymous HTTP access.
</p>
<p>From the command line s3cmd is a very useful open-source tool that
  provides command-line access to much of the Amazon S3 API functions. 
  Using s3cmd, you can create, destroy and list buckets, as well as 
  upload and download files to buckets, apart from other functionalities.
  Follow the steps below to install and configure s3cmd:
</p>
<ol>
  <li>If not installed already, you can install s3cmd on most Ubuntu 
    AMIs using the command <code>sudo apt-get install s3cmd</code>
  </li>
  <li>
    Configure the s3cmd tool: 
    <codeblock syntax="bash" number="false">s3cmd --configure</codeblock>
    <ol>
      <li>Enter your access key and secret key information (You can visit Security Credentials within your AWS Account to obtain these).</li>
      <li>Configure the tool using default options.</li>
      <li>Test the access to S3 using your supplied credentials when asked to do so, and choose Y to save your configuration.</li>
      <li>When asked, choose to save the configuration options, so that you don't have to set it up each time you use s3cmd.</li>
    </ol>
  </li>
</ol>
<p>Once you have completed installing s3cmd, try some of the different
  commands to create buckets, upload and download objects
  as well as getting and setting permissions of buckets and objects.
</p>
<div class="bs-callout bs-callout-success">
  <h4>Tasks to try:</h4>
  <p>You should get comfortable doing the following tasks:
  </p><ol>
    <li>Create a bucket on S3.</li>
    <li>Store and retrieve a small file on S3 using both the web interface and the command-line tool <code>s3cmd</code>.</li>
    <li>Set permissions to be able to access an object on S3 using an HTTP link.</li>
  </ol>
  <p></p>
</div>
<hr>
<h1 id="project">Project Logistics</h1>
<p>Projects are assigned by the course instructor and will be announced 
  in Recitations/Piazza. Students are expected to follow the announcements
  carefully with regards to opening/closing dates.
</p>
<p>With projects, we <strong>highly recommend</strong> starting early.
  With each project, there is a new skill that you will have to pick up
  and master before you begin. Many of the project modules involve working with
  significant amounts of data, processing may require multiple 
  hours. Some projects require finding an optimal resource configuration,
  and may require multiple test runs before you can arrive at a solution.
  You will need to account for this overhead as you plan for your
  project.
</p>
<h2 id="cloud">Using Cloud Resources</h2>
<p>AWS is a large-scale, shared cloud resource that is used
  by millions of users around the world. This differs significantly
  from the computing resources that you have been using at the 
  university.
</p>
<p>AWS provides fairly robust uptime guarantees for most of its 
  services but it is not immune to failures. Students should 
  keep this in mind as they work their projects. In case of major
  service issues, the instructor may grant extensions, but only if
  it affects a majority of the users. Students should be prepared 
  to work around service failures.
</p>
<div class="bs-callout bs-callout-info">
  <h4>Spot Instances</h4>
  <p> Spot instances, as discussed
    in the previous pages, offer significant cost savings to regular on-demand
    instances, especially for more powerful instance types. Students should
    use Spot instances whenever possible, except for services 
    that need to be kept alive for instructor assessment. For example,
    in the later projects, you will be expected to keep a web interface
    alive for the instructors to visit and assess your work. Using spot
    instances for such tasks is not recommended as your instances
    could be terminated due to price fluctuations. 
  </p>
</div>
<h2 id="assess">Project Assessments</h2>
<p>On several of your projects this semester, you will be using an AMI developed by the Cloud Computing team. This AMI will contain all the data you require to complete the project as well as submit your answers to our autograding system. The AMI will in most cases consist of 2 files:</p>
<ol>
  <li><code>runner.sh</code></li>
  <li><code>submtter</code></li>
</ol>
<p><code>runner.sh</code> is a bash script which contains one function for each question in that project. You will fill in these functions and run <code>runner.sh</code> to verify your answers. You may then use <code>submitter</code> to submit your answers to the autograding system. Since this is an autograded system, please follow the instructions as closely as possible</p>
<p>The project  autograders will be used to score your submissions, so please
  follow the project instructions carefully.
  Students will be required to complete these activities
  before they are due. Always double-check the answers in your project submission before choosing to submit.
  The answers you submit in your checkpoints will be deemed as final.
</p>
<p>In addition, students will be required to submit their code in a designated
  location when instructed. For such projects, a significant portion
  of the grade for that project will be allotted for your code 
  submission. Code will be assessed on the following:
</p>
<ol>
  <li>Completion of the tasks mentioned.</li>
  <li>Efficiency/Performance.</li>
  <li>Code style/readability/comments.</li>
</ol>
<h2 id="cost">Managing Costs</h2>
<p>Students must use AWS resources judiciously. Several projects have
  cost restrictions which students must follow to the letter and spirit.
  Students will be held accountable for excessive usage of AWS resources.
  Students will be expected to monitor their AWS usage and will be responsible
  for terminating their resources upon the completion of a project checkpoint, unless
  specifically instructed to do otherwise. The AWS Account Activity
  page offers students a break-down of their costs and offers daily billing
  information as shown in the image below:
</p>
<img src="./Primer_files/costs.png">
<h4><small class="caption">The AWS Account Activity Page</small></h4>
<h2 id="tagging">Tagging AWS Resources</h2>
<p>AWS Resources such as EC2 Instances, S3 Buckets, etc. can be tagged
  using key-value pairs. For every Project checkpoint, you will have
  to tag your resources to indicate that they were provisioned to 
  complete a particular project. For EC2 Instances, you will be provided
  an option to tag the instance while it's being configured. You may also
  tag instances and resources after they have been launched from the EC2
  Dashboard as shown in the figure below:
</p>
<img src="./Primer_files/instance_tagging.png">
<h4><small class="caption">Tagging an Instance on EC2</small></h4>
<p>Resource Tagging is mandatory. All billable resources should be Tagged 
  with the number of the project you are 
  currently working on. These will be defined in each project write-up.
  For example, if you are working on Project 1.1, use the following
  tag for all your resources associated with Project 1.1:
</p>
<title>Resource Tagging Example</title><table class="table table-striped table-bordered">
  
  <tbody><tr>
    <th>Tag</th>
    <th>Value</th>
  </tr>
  <tr>
    <td>Project</td>
    <td>1.1</td>
  </tr>
</tbody></table>
<div class="bs-callout bs-callout-warning">
  <h4>Tagging Spot Instances</h4>
  <p>Please be aware that spot instance requests and spot instance creation
    are two separate events. You can apply a tag to the spot instance request in
    AWS, but it will <strong>not</strong> propagate to the instance when the spot
    request is satisfied. Therefore, you must tag the instance separately once it has
    been launched. Students are encouraged to find novel ways to use AWS APIs to automate
    this process, if they like.
  </p>
</div>
<h2 id="s3handin">S3 Submissions</h2>
<p>Some of the project checkpoints in the course may require you to submit code or data on
  S3. Please follow the instructions below carefully for each submission:
</p>
<p>Please set up a <strong>project submission bucket</strong>
  on S3 by following the instructions in
  <a href="https://theproject.zone/writeup/0/1#s3">Amazon S3</a> section. Once you have chosen a bucket name, create the following
  folder structure for each of the Projects within it:
</p>
<img src="./Primer_files/s3_folders.png">
<h4><small class="caption">S3 Bucket Structure</small></h4>
<div class="bs-callout bs-callout-info">
  <h4>Setting Bucket Permissions</h4>
  <p>The instructors and
    TAs will need access to your project submission bucket in order to
    evaluate your submission. In order to grant access, please do the following:
  </p>
  <ol>
    <li>Select bucket and select properties/permissions</li>
    <li>Select Add/Edit bucket policy</li>
    <li>
      Paste the following string into the bucket policy, replacing <code>mybucket</code> with the name of your bucket
      <pre>  {
  "Version": "2008-10-17",
  "Statement": [
    {
      "Sid": "",
      "Effect": "Allow",
      "Principal": {
        "AWS": [
          "arn:aws:iam::939223853384:role/s3HandIn",
          "arn:aws:iam::939223853384:root"
        ]
      },
      "Action": [
        "s3:ListBucketVersions",
        "s3:GetObjectVersionTorrent",
        "s3:GetObjectAcl",
        "s3:GetBucketRequestPayment",
        "s3:GetObjectTorrent",
        "s3:ListBucket",
        "s3:GetObject",
        "s3:GetBucketPolicy",
        "s3:GetBucketVersioning",
        "s3:GetObjectVersionAcl",
        "s3:GetBucketNotification",
        "s3:GetBucketAcl",
        "s3:GetObjectVersion",
        "s3:ListBucketMultipartUploads",
        "s3:GetLifecycleConfiguration",
        "s3:ListMultipartUploadParts",
        "s3:GetBucketLocation",
        "s3:GetBucketWebsite"
      ],
      "Resource": [
        "arn:aws:s3:::mybucket",
        "arn:aws:s3:::mybucket/*"
       ]
     }
    ]
  }
</pre>
    </li><li>During each project submission, please visit the <a href="http://ec2-54-225-106-182.compute-1.amazonaws.com/">S3 Link Checker</a>
      to verify that your submission is valid on S3.
    </li>
  </ol>
</div>
<div class="bs-callout bs-callout-success">
  <h4>Tasks to try:</h4>
  <p>You should get comfortable doing the following tasks:
  </p><ol>
    <li>Monitor your AWS usage periodically using the web Console.</li>
    <li>Set up a bucket for any S3 submissions you may encounter in the course.</li>
    <li>Learn to tag any and all resources on AWS.</li>
  </ol>
  <p></p>
</div>
<!-- JS Scripts -->
<script src="./Primer_files/docs.min.js"></script>


    </div>


    </div>

    <div id="footer" class="navbar-fixed-bottom" style="height:30px;background-color:#f5f5f5;position:fixed;bottom:0;width:100%;text-align:center;padding:5px">
        <p class="text-muted credit">©2015 Teaching Staff Of The Cloud Computing Course, Carnegie Mellon University</p>
    </div>

    
    
    

    <script type="text/javascript">
        function dashIfUNE(str) {
            return (str==null || str.length===0)?'<span class="glyphicon glyphicon-minus"></span>':str;
        }
        /* https://docs.djangoproject.com/en/dev/ref/csrf/ */
        function csrfSafeMethod(method) {
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }
        $.ajaxSetup({
            beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });
        function getCookie(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie != '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = jQuery.trim(cookies[i]);
                    if (cookie.substring(0, name.length + 1) == (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        var csrftoken = getCookie('csrftoken');
    </script>
    
    <script type="text/javascript">
        function fixNavbarTop() {
            $('#base-container').css('padding-top', $('.navbar-fixed-top').height()+10);
        }
        $(document).ready(fixNavbarTop);
        $(window).resize(fixNavbarTop);
        $(window).load(fixNavbarTop);
    </script>

    <script type="text/javascript">
        $(document).ready(function(){
            $('#nav_writeup').addClass('btn-primary');
            $("#project0").addClass('active');
        });
    </script>



</div></div></body></html>
<!DOCTYPE html>
<!-- saved from url=(0035)https://theproject.zone/writeup/1/2 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    

    <link type="image/x-icon" rel="shortcut icon" href="https://theproject.zone/static/favicon.ico">
    <!--<link type="text/css" rel="stylesheet" href="/static/css/table_sort.css">-->
    <link type="text/css" rel="stylesheet" href="./P1.2_files/bootstrap.min.css">
    <link type="text/css" rel="stylesheet" href="./P1.2_files/jquery.dataTables.min.css">
    <link type="text/css" rel="stylesheet" href="./P1.2_files/header.css">
    <link type="text/css" rel="stylesheet" href="./P1.2_files/defaultTheme.css">
    <link type="text/css" rel="stylesheet" href="./P1.2_files/datepicker.css">
    <link type="text/css" rel="stylesheet" href="./P1.2_files/bootstrap-editable.css">
    <title>15-319/619 Cloud Computing</title>
    
    
    
    
    
    <link type="text/css" rel="stylesheet" href="./P1.2_files/inside.base.css">

    <link type="text/css" rel="stylesheet" href="./P1.2_files/docs.min.css">


    <script type="text/javascript" src="./P1.2_files/jquery.min.js"></script>
    <script type="text/javascript" src="./P1.2_files/jquery.tablesorter.js"></script>
    <script type="text/javascript" src="./P1.2_files/jquery.dataTables.min.js"></script>
    <script type="text/javascript" src="./P1.2_files/jquery.fixedheadertable.js"></script>
    <script type="text/javascript" src="./P1.2_files/fnSetFilteringDelay.js"></script>
    <script type="text/javascript" src="./P1.2_files/datatableview.min.js"></script>
    <script type="text/javascript" src="./P1.2_files/bootstrap.min.js"></script>
    <script type="text/javascript" src="./P1.2_files/bootstrap-datepicker.js"></script>
    <script type="text/javascript" src="./P1.2_files/bootstrap-editable.min.js"></script>
</head>

<body role="document" style="margin-bottom: 40px">

    <div id="base-container" class="container-fluid" style="padding-top: 49.888888835907px;">
    
    
    
    
    
    <nav class="navbar navbar-default navbar-fixed-top" role="navigation">
   
        <div class="container-fluid">

            <div class="navbar-header" style="padding-bottom:40px">
               <a href="https://theproject.zone/home"><img src="./P1.2_files/TPZlogo_small_inverted.png"></a>
            </div>

            <div class="navbar-header pull-right">
                <a class="navbar-brand" href="https://theproject.zone/writeup/1/2#" onclick="return false;" style="margin-left: 0px;"><span class="label label-default" id="username-label">pgandala</span></a>
            </div>

            <div class="coll pull-right">
                <ul id="navbar" class="nav navbar-nav" style="font-weight:bold">
                    <li id="home"><a href="https://theproject.zone/home">Home</a></li>

                    
                        
                        <li id="project0" class="dropdown">
                            <a href="https://theproject.zone/writeup/1/2#" data-toggle="dropdown" class="dropdown-toggle">Primer
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/0/1">Project Primer</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project1" class="dropdown active">
                            <a href="https://theproject.zone/writeup/1/2#" data-toggle="dropdown" class="dropdown-toggle">Project 1
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/1/1">1.1 Sequential Analysis</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="./P1.2_files/P1.2.html">1.2 Using Amazon's Elastic MapReduce</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project2" class="dropdown">
                            <a href="https://theproject.zone/writeup/1/2#" data-toggle="dropdown" class="dropdown-toggle">Project 2
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/2/1">2.1 Introduction to AWS APIs</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/2/2">2.2 Load Balancing and AutoScaling</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/2/3">2.3 Advanced Scaling Concepts</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project3" class="dropdown">
                            <a href="https://theproject.zone/writeup/1/2#" data-toggle="dropdown" class="dropdown-toggle">Project 3
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/1">3.1 Files v/s Databases</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/2">3.2 Partitioning and Replication</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/3">3.3 Database-as-a-Service</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/4">3.4 Cloud Data Warehousing</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/3/5">3.5 Consistency in Distributed Key-Value Stores</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project4" class="dropdown">
                            <a href="https://theproject.zone/writeup/1/2#" data-toggle="dropdown" class="dropdown-toggle">Project 4
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/4/1">4.1 MapReduce Programming using YARN</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/4/2">4.2 Iterative Programming using Apache Spark</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/4/3">4.3 Graph Programming using GraphLab</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                        <li id="project5" class="dropdown">
                            <a href="https://theproject.zone/writeup/1/2#" data-toggle="dropdown" class="dropdown-toggle">15619 Project
                            
                                <b class="caret"></b>
                            
                            </a>
                            
                            <ul class="dropdown-menu">
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/1">Phase 1</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/2">Phase 1 Report</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/3">Phase 2</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/4">Phase 2 Live Test (MySQL)</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/5">Phase 2 Live Test (HBase)</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/6">Phase 2 Report</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/7">Phase 3</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/9">Phase 3 Live Test</a></li>
                                        
                                    
                                
                                    
                                        
                                        
                                        
                                        <li><a class="active" href="https://theproject.zone/writeup/5/10">Phase 3 Report</a></li>
                                        
                                    
                                
                            </ul>
                            
                        </li>
                        
                    
                
                    
                    <li id="grade"><a class="active" href="https://theproject.zone/grade/">Grade Book</a></li>
                    <li id="profile"><a href="https://theproject.zone/profile">Profile</a></li>
                    <li id="logout"><a href="https://theproject.zone/log_out">Log Out</a></li>
                </ul>
            </div>
        </div>
    </nav>


    <div class="container">

        <div class="row">

        <div class="col-md-6">
            <h2>1.2 Using Amazon's Elastic MapReduce</h2>
        </div>
        
        
        <div class="col-md-6 pull-down">
            <div class="btn-group pull-right" style="margin-bottom: 10px">
                <a class="btn btn-default btn-primary" href="https://theproject.zone/writeup/1/2/" id="nav_writeup">Writeup</a>

                

                

                <a class="btn btn-default" href="https://theproject.zone/submissions/1/2/" id="nav_submissions">Submissions</a>
                <a class="btn btn-default" href="https://theproject.zone/scoreboard/1/2/" id="nav_score_board">ScoreBoard</a>
            </div>
        </div>
        
        
        </div>

        <table class="table table-striped table-bordered table-condensed prettyBorder">
        <thead>
            <tr>
                <th>Phase</th>
                <th>Open</th>
                <th>Deadline</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>1.2 Using Amazon's Elastic MapReduce</td>
                <td>Jan. 26, 2015 00:01</td>
                <td>Feb. 01, 2015 23:59</td>
            </tr>
        </tbody>
        </table>
        
        

        <hr>
        

<style>
img{
display: block;
margin-left: auto;
margin-right: auto;
margin-bottom: 10px;
}

small.caption {
display: block;
text-align: center;
margin-bottom: 4em;
}

iframe {
display: block;
margin-left: auto;
margin-right: auto;
margin-bottom: 30px;
}


.bs-callout-task {
background-color: #ffffff;
border-left-color: green;
}

.bs-callout-task h4,
.bs-callout-task a.alert-link {
color: green;
}


.bs-callout-learning {
background-color: #ffffff;
border-left-color: purple;
}

.bs-callout-learning h4,
.bs-callout-learning a.alert-link {
color: purple;
}

.bs-docs-sidebar.affix {
position: fixed;
top: 25x;
}

</style>

<div id="writeup-content" class="row">

<p></p><div class="col-md-3" role="complementary">
      <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm affix-top" style="top:120px"> <!-- Inline CSS Hack for Display -->
        <ul class="nav bs-docs-sidenav">
<li><a href="https://theproject.zone/writeup/1/2#intro">Introduction</a>
<ul class="nav">
<li><a href="https://theproject.zone/writeup/1/2#further-analysis-of-the-data">Further Analysis of the Data</a></li>
</ul></li>
<li><a href="https://theproject.zone/writeup/1/2#introduction-to-mapreduce">Introduction to MapReduce</a>
<ul class="nav">
<li><a href="https://theproject.zone/writeup/1/2#an-example-wordcount">Example EMR Job Flow: Wordcount</a></li>
</ul></li>
<li><a href="https://theproject.zone/writeup/1/2#writing-your-own">Writing your own Mappers and Reducers</a></li>
<li>
<a href="https://theproject.zone/writeup/1/2#grading">Grading</a>
<ul class="nav">
<li><a href="https://theproject.zone/writeup/1/2#grading-penalties">Grading Penalties</a></li>
</ul>
</li>
</ul>
<a class="back-to-top" href="https://theproject.zone/writeup/1/2#top">
Back to top
</a>
</nav>
</div><p></p>
<!--<div class="col-xs-12 col-sm-12 col-md-9 col-lg-9">-->

<div class="col-md-9" role="main">

<div class="bs-docs-section">
<h1 id="intro" class="page-header">Introduction</h1>

<div class="bs-callout bs-callout-learning">
<h4>Learning Objectives</h4>
<p>This project will encompass the following learning objectives:</p>
<ol>
<li>Explore a large-scale dataset</li>
<li>Process a large-scale dataset using MapReduce</li>
<li>Use Elastic MapReduce to run a MapReduce job on the cloud</li>
<li>Understand the benefits of frameworks such as MapReduce to analyse large volumes of data</li>
<ol>
</ol></ol></div>
<p>In this part of the Project, we will be processing a much larger portion of the dataset. Using similar filtering techniques
used in the previous part, we will aggregate all the data about the page views for all of November 2014.</p>

<h3 id="further-analysis-of-the-data">Further Analysis of the Data</h3>
<p>Processing a single file sequentially like we did in the previous page does not really answer the 
question of "What was the most popular page for the month of November 2014" or how many hits did any particular page get on a particular day. To answer this we must:</p>

<ul>
<li>aggregate the view counts and</li>
<li>generate a daily timeline of page views for each article we are interested in</li>
</ul>

<p>In order to process such a large dataset (~67 GB compressed), we will setup an Elastic MapReduce job Flow. You will have to write a simple Map and Reduce program in the language of your choice.</p>

<p>In this part of the project you will understand some of the key aspects of Elastic MapReduce and run an Elastic MapReduce job flow.</p>

<div class="bs-callout bs-callout-warning">
<h4>Resource Tagging</h4>
<p>For this project, assign the tag with <code>Key: Project</code> and <code>Value: 1.2</code> for all resources</p>
</div>

<div class="bs-callout bs-callout-danger">
<h4>Warning</h4>
<p>Please read the entire write-up carefully before starting an EMR cluster. EMR clusters can be very expensive so make sure you understand fully the requirements of the project before provisioning any resources.</p>
</div>

</div>

<div class="bs-docs-section">

<h1 id="introduction-to-mapreduce" class="page-header">Introduction to MapReduce</h1>
<p>The <a href="http://en.wikipedia.org/wiki/MapReduce">MapReduce</a> programming model, pioneered by Google, is designed to process big data using a large number of machines. 
In a MapReduce program, data, stored as Key/Value pairs, is processed by a Map function. Mappers output a transformed 
set of Key/Value pairs, which are subsequently processed by a Reduce function (see Figure 1 Below:).</p>

<img src="./P1.2_files/mapred_figure.png">
<h4><small class="caption">Figure 1: MapReduce Overview (Image from <a href="http://en.wikipedia.org/wiki/MapReduce">Wikipedia</a>)</small></h4>

<p>MapReduce was designed to run in large server farms similar to machines that are deployed at Google's data centers and is proprietary. <a href="http://hadoop.apache.org/">Hadoop</a> is an open-source implementation of Google's MapReduce, which will be covered in detail in the Unit, "Programming Models". <a href="">Amazon's Elastic MapReduce</a> is a PaaS implementation of Hadoop, and is designed for quick provisioning of Hadoop clusters and fast transfers to/from S3. In this part of the project you will understand some of the key aspects of Elastic MapReduce and run an Elastic MapReduce job flow.</p> 

<div class="bs-callout bs-callout-info">
<h4>MapReduce Resources</h4>
<p>We will cover MapReduce in detail in the last Unit of the course. For now, here are several resources to get your started:</p>
<ul>
<li>Introductory MapReduce videos from <a href="https://www.youtube.com/watch?v=I0k8VBWzGXw">MapR</a> and <a href="https://www.youtube.com/watch?v=ht3dNvdNDzI">HortonWorks</a>.</li>
<li>You can also refer to the <a href="http://aws.amazon.com/documentation/elastic-mapreduce/">Elastic MapReduce Documentation</a>.</li>
</ul></div>

<h3 id="an-example-wordcount">Example EMR Job Flow: Wordcount</h3>
<p>The following video will walk through the process of writing a Streaming Elastic MapReduce job flow using Python and Java:</p>

<iframe width="560" height="315" src="./P1.2_files/7n0XtbFEBBI.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Introduction to AWS</small></h4>


<p>In the example explained in the video above, the map phase Word Count takes a directory of text input files, scans through all of them, outputting a single word (key) and the number "1" (value) per each line. The aggregate reducer takes input, line-by-line, from all the mappers and sums each instance of that Key/Value pair. The final output is a list with each word, and the number of times that word occurred in all the input files.</p>

<p>You can see the code <a href="http://aws.amazon.com/articles/2273">here</a></p>


<div class="bs-callout bs-callout-info">
<h4>Running the Wordcount MapReduce Job</h4>

<p>If you want to try running the Python streaming MapReduce job flow, perform the following steps:</p>

<iframe width="560" height="315" src="./P1.2_files/EI7wWiQ_l7I.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Running a Python Streaming Program on Elastic MapReduce</small></h4>

<p>If you want to try running the Java streaming MapReduce job flow, perform the following steps:</p>

<iframe width="560" height="315" src="./P1.2_files/vn-ixZPYOzg.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Running a Java Streaming Program on Elastic MapReduce</small></h4>

<p>To recap, the steps you need to follow are:</p>  
                    <ol>
          <li>
            In the AWS Management Console, click
            <strong>Services</strong>
            and click on
            <strong>Elastic MapReduce</strong>.
          </li>
          <li>
            In the Elastic MapReduce view, click
            <strong>Create Cluster</strong>.
           </li>
           <li>At the top of the page, click on <strong>Configure Sample Application</strong>
           and select Wordcount.</li>
              <li>Enter an S3 location for your program output folder.</li>
              <li>Make sure logging and debugging is enabled, and click OK.</li>
          <li>
            In the
            <strong>Cluster Configuration</strong>
            section:
            <ul>
              <li>Enter a name for the cluster.</li>
              <li>Enter an S3 location for your log folder, if you have not already.</li>
              <li>Make sure logging and debugging is enabled.</li>
            </ul>
          </li>
          <li>
            In the
            <strong>Tag</strong>
            section:
            <ul>
              <li>
                Tag your cluster as discussed in the project primer and in 
                the recitation demos.
              </li>
            </ul>
          </li>
          <li>
            In the
            <strong>Software Configuration</strong>
            section:
            <ul>
                <li>Use the AMI 3.3.1(Hadoop 2.4.0) distribution from Amazon.</li>
              <li>There is no need to install any additional applications for 
              this example.</li>
            </ul>
            </li>
          <li>
            In the
            <strong>Hardware Configuration</strong>
            section:
            <ul>  
              <li>
                Use the
                <strong>m1.medium</strong>
                instance for both the master and core nodes.
              </li>
              <li>Specify 2 core nodes.</li>
              <li>There is no need to use any task nodes for this example.</li>
            </ul>
          </li>
          <li>
            In the
            <strong>Security and Access </strong>
            section:
            <ul>
              <li>Specify an EC2 keypair that you've already created in the AWS Account Setup page.
              </li>
              <li>There is no need to add any IAM user access or IAM roles in this example.</li>
            </ul>
          </li>
          <li>
            In the
            <strong>Bootstrap Options</strong>
            section, proceed without any bootstrap actions.
          </li>
          <li>Finally, in the <strong>Steps</strong> section, you can see a step named "wordcount"
          has already been configured for you. Click on the edit icon to 
          see the detail of this step. For the purpose of this example,
          you may use the default input location, or specify your own input
          to test.</li>
          <li>Set <strong>Auto-terminate</strong> to <strong>No</strong>, so that you can
          log on to your cluster even after the job is finished if you need
          to debug the job. Make sure you manually terminate your cluster after you 
          are done with the EMR console!</li>
          <li>
            Review all of your options and click the 
            <strong>Create Cluster</strong> button after everything looks OK. Remember 
            that after this point, you will be charged for the cluster.
          </li>
        </ol>

        <p>Amazon will then provision a Hadoop cluster with 1 master node and 2 data nodes, and submit the job to it. This takes about 5 minutes to instantiate the virtual machines, configure them, etc. You can monitor your job progress from the console and inspect the output and log S3 locations for information regarding your job.</p>

</div>

</div>

<div class="bs-docs-section">
<h1 id="writing-your-own" class="page-header">Writing your own Mappers and Reducers</h1>
<p>Now lets get back to processing the wikipedia dataset. In this part you will write your own mappers and reducers to perform the following tasks on the entire 1-month input dataset.</p>

<div class="bs-callout bs-callout-task">
<h4>Tasks to Complete</h4>
<p>To complete Project 1.2, you need to finish the following tasks:</p>

<ol>
    <li>Design a MapReduce job flow to:
    <ol>
                <li>Read all the wikimedia entries for November 2014 from <code>s3://wikipediatraf/201411-gz/</code></li>
        <li>Filter out elements based on the rules discussed in Project 1.1.</li>
        <li>In addition to what you may have filtered in Project 1.1, there are some malformed entries which need to be filtered. Malformed entries are entries with missing article name. Make sure that you filter these entries.</li>
        <li>Aggregate the pageviews from hourly views to daily views.</li>
        <li>Calculate the total pageviews for each article.</li>
        <li>For every article that has page-views over 100,000, print the following line as output (<code>\t</code> is the tab character):
        <pre>&lt;total month views&gt;\t&lt;article name&gt;\t&lt;date1:page views for date1&gt;\t&lt;date2:page views for date2&gt; ...</pre></li> 
                <li>Getting the input filename from within a Mapper: As the date/time information is encoded in the filename, Hadoop streaming makes the filename available to every map task through the environment variables <strong>mapreduce_map_input_file</strong>, <strong>map_input_file</strong> or <strong>map.input.file</strong>. For example, the filename can be accessed in python using the statement <code>os.environ["mapreduce_map_input_file"]</code>, or in Java using the statement <code>System.getenv("mapreduce_map_input_file")</code></li>
                <li>Note: If you are having trouble getting the filename, check the Hadoop version in EMR. If you are using the latest version, the environment variable will be <code>"mapreduce_map_input_file"</code>. In older versions, the variable could be <code>"map_input_file"</code> or <code>"map.input.file"</code></li>
    </ol>
    </li><li>Once you have designed and tested your MapReduce job flow on a small portion of the dataset, please run it on the entire dataset of November 2014 using Elastic MapReduce.</li>
    <li>Please note the cluster configuration and runtime in minutes of your solution.</li>
    <li>Once the results are ready, launch a t1.micro instance (AMI <code>ami-08cfb560</code>) to make the submission.</li>
    <li>Download your results file from S3 to your AMI.</li>
    <li>Complete the questions asked in <code>runner.sh</code>.</li>
    <li>Submit your answers using <code>submitter</code>.</li>
        <li><font size="1" color="White">SECRET NOTE: First 10 students to reach 100% will get 5% bonus for P1.2</font>GOOD LUCK!!!!</li>
</ol>
</div>

<div class="bs-callout bs-callout-info">
<h4>Notes and Suggestions</h4>
<br>
<strong>Controlling Costs</strong>
<p>Given that you have a limited budget to do this part of the project, make sure you have thoroughly developed and tested your MapReduce program before launching an expensive EMR cluster. Using Spot instances will allow you to save significantly on EMR clusters. You are allowed to use only upto 20 instances in your cluster, including the master. <strong>Note that you are only allowed to use instances that have an on-demand cost less than that of m1.large.</strong></p>

<strong>Filtering Rules</strong>
<p>If you want to test whether a given line should be retained or removed, please visit <a href="http://ec2-54-175-182-41.compute-1.amazonaws.com/">this link</a>.</p>

<strong>Output Rules</strong>
<p>The output should conform to the following output specifications:
</p><ol>
<li>Date should be in <code>yyyymmdd</code> format.</li>
<li>Dates should be sorted in chronological order. This means that <code>20141101</code> appears before <code>20141102</code>.</li>
<li>Print out the page views for all dates in a single line.</li>
</ol>

<p>Here is an example of the output line expected from the reducer:</p>
<pre>10   Dopamine    20141101:1    20141102:2    20141103:0    20141104:0    20141105:1    20141106:0    20141107:0    20141108:0    20141109:0    20141110:6    20141111:0    20141112:0    20141113:0    20141114:0   20141115:0    20141116:0    20141117:0    20141118:0    20141119:0    20141120:0    20141121:0    20141122:0    20141123:0    20141124:0    20141125:0    20141126:0    20141127:0    20141128:0    20141129:0    20141130:0
</pre>

<p><strong>NOTE: Each line must have 30 days, even if there were 0 page views for any particular day. The auto-grader will return 0 if the above format is not maintained.</strong></p>

<strong>Troubleshooting EMR</strong>
<p>The following video should cover common troubleshooting scenarios for EMR:</p>
<iframe width="560" height="315" src="./P1.2_files/H0q5V4ApuU4.html" frameborder="0" allowfullscreen=""></iframe>
<h4><small class="caption">Video: Troubleshooting EMR</small></h4>
</div>

<div class="bs-docs-section">
<h1 id="grading" class="page-header">Grading</h1>
<p>After completing the above exercise, you are expected to do some analysis of results and answer certain questions for this week's checkpoint quiz. The checkpoint quiz questions are present in the file <code>/home/ubuntu/Project1_2/runner.sh</code>. You can verify and submit your results using the given auto-grader in the AMI. To use the autograder, do the following:</p>
<ol>
<li>
<p>Go to the auto-grader folder located at <code>/home/ubuntu/Project1_2</code>.</p>
</li>
<li>
<p>Download the results of your MapReduce job from S3 to the above folder using s3cmd.</p>
</li>
<li>
<p>Merge the results into a single file called <code>output</code>. Ensure that the merged results are in descending order of total page views.</p>
</li>
<li>
<p>Copy your code to the same folder. If you used Python, name your files <code>mapper.py</code> and <code>reducer.py</code>. If you used Java, name your files <code>Mapper.java</code> and <code>Reducer.java</code>. Also ensure that you are not having any package names in your Java files.</p>
</li>
<li>
<p>The auto-grader consists of three files, <code>runner.sh</code>, <code>submitter</code> and <code>references</code>. You have permissions to edit <code>runner.sh</code> and <code>references</code> files.</p>
</li>
<li>
<p>Edit the script <code>runner.sh</code> to include the commands/code used to answer the checkpoint questions. Using bash scripting is recommended. Do not move any of the provided files. If you are using any external scripts, ensure that you are calling the correct scripts from <code>runner.sh</code>. Please ensure that you are placing all your code and output from the MapReduce run in the same folder. Please read the output from MapReduce in your code assuming it's present in the current folder (i.e do not use absolute path for accessing the dataset).</p>
</li>
<li>
<p>Edit the text file <code>references</code> to include all the links that you referred to for completing this project. Also include the Andrew IDs of all the other students who you might have discussed general ideas with when working on this project in the same file. Adding at least one reference is mandatory.</p>
</li>
<li>
<p>You can run the autograder by typing <code>./runner.sh</code> from the autograder folder. Running this script should print out the answers to all the questions. Please ensure that the answers are printing correctly before using submitter.</p>
</li>
<li>
<p>Once you have completed all the questions, you can submit the answers to the evaluation system using the auto-grader executable <code>submitter</code>. Run the executable using the command <code>./submitter -p</code> if you are using Python or <code>./submitter -j</code> if you are using Java from the auto-grader folder. After running this command, you should be able to see your scores on the website in a few minutes. There is no limit on the number of submissions allowed before the project deadline. However, each submission must be separated by at least 60 seconds. As usual, be mindful of your budget.</p>
</li>
</ol>



</div>

<div id="#grading-penalties" class="bs-callout bs-callout-danger">
<h4 id="project-grading-penalties">Project Grading Penalties</h4>
<p>The following table outlines the violations of the project rules and their corresponding grade penalties for this project.</p>
<table class="table">
<thead>
<tr>
<th>Violation</th>
<th>Penalty of the project grade</th>
</tr>
</thead>
<tbody>
<tr>
<td>Failing to tag your all your instances (including all of the instances in the EMR cluster) for this project</td>
<td>-10%</td>
</tr>
<tr>
<td>Using any instance type in your cluster that has an on-demand pricing higher than m1.large</td>
<td>-10%</td>
</tr>
<tr>
<td>Attempting to hack/tamper the autograder in any way</td>
<td>-100%</td>
</tr>
<tr>
<td>Using more than <strong>$15</strong> to complete this project</td>
<td>-10%</td>
</tr>
<tr>
<td>Using more than <strong>$30</strong> to complete this project</td>
<td>-100%</td>
</tr>
</tbody>
</table>
</div>

<p></p></div>
</div>
<!-- JS Scripts -->
<script src="./P1.2_files/docs.min.js"></script><p></p>


    </div>


    </div>

    <div id="footer" class="navbar-fixed-bottom" style="height:30px;background-color:#f5f5f5;position:fixed;bottom:0;width:100%;text-align:center;padding:5px">
        <p class="text-muted credit">©2015 Teaching Staff Of The Cloud Computing Course, Carnegie Mellon University</p>
    </div>

    
    
    

    <script type="text/javascript">
        function dashIfUNE(str) {
            return (str==null || str.length===0)?'<span class="glyphicon glyphicon-minus"></span>':str;
        }
        /* https://docs.djangoproject.com/en/dev/ref/csrf/ */
        function csrfSafeMethod(method) {
            return (/^(GET|HEAD|OPTIONS|TRACE)$/.test(method));
        }
        $.ajaxSetup({
            beforeSend: function(xhr, settings) {
                if (!csrfSafeMethod(settings.type) && !this.crossDomain) {
                    xhr.setRequestHeader("X-CSRFToken", csrftoken);
                }
            }
        });
        function getCookie(name) {
            var cookieValue = null;
            if (document.cookie && document.cookie != '') {
                var cookies = document.cookie.split(';');
                for (var i = 0; i < cookies.length; i++) {
                    var cookie = jQuery.trim(cookies[i]);
                    if (cookie.substring(0, name.length + 1) == (name + '=')) {
                        cookieValue = decodeURIComponent(cookie.substring(name.length + 1));
                        break;
                    }
                }
            }
            return cookieValue;
        }
        var csrftoken = getCookie('csrftoken');
    </script>
    
    <script type="text/javascript">
        function fixNavbarTop() {
            $('#base-container').css('padding-top', $('.navbar-fixed-top').height()+10);
        }
        $(document).ready(fixNavbarTop);
        $(window).resize(fixNavbarTop);
        $(window).load(fixNavbarTop);
    </script>

    <script type="text/javascript">
        $(document).ready(function(){
            $('#nav_writeup').addClass('btn-primary');
            $("#project1").addClass('active');
        });
    </script>



</div></body></html>